<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> 구구단 </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js" ></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>
<body>
    <div id="root"></div> <!-- 마자막 결과라네: <div id="root"> <button>Like</button> </div>--> 
    <script type="text/babel"> //자바스크립트 안에서 html 문법을 쓸수 있게 만들어줌.(babel)
        class GuGuDan extends React.Component {
            constructor(props){
                super(props);
                this.state = {
                    // 처음 상태 값
                    first: Math.ceil(Math.random() * 9), // 1~9 random number
                    second: Math.ceil(Math.random() * 9),
                    value: '', //입력창 (처음엔 아무것도 들어가지 않기 때문)
                    result: '', //결과값 (처음엔 아무것도 들어가지 않기 때문)

                };
            }

            onSubmit = (e) => {
                            e.preventDefault(); //======
                            //구구단 로직이 들어감 (결과값에 대한 로직)
                            if(parseInt(this.state.value) === this.state.first * this.state.second){
                                this.setState({
                                    result: this.state.first * this.state.second + '  정답 굿잡',
                                    first: Math.ceil(Math.random() * 9),
                                    second: Math.ceil(Math.random() * 9),
                                    value: '',
                                }); 
                            }else{
                                this.setState({
                                    result : '틀렸어요ㅋㅋㅋ',
                                    value : '',
                                });
                            }
                        }

            onChange = (e) => {
                this.setState({value:e.target.value}); // 변하는 부분을 스스로 컨트롤 하는 것.
            }

            render(){
                return (
                    <div>
                        <div>{this.state.first} 곱하기 {this.state.second}는?</div> 
                        <form onSubmit={this.onSubmit}> 
                            <input type="number" value={this.state.value} onChange = {this.onChange}/> 

                            <button> 입력! </button>
                        </form>
                        <div> {this.state.result} </div>
                    </div>
                );
            }
        }   
        // 구구단 쓰겠다고 구구단 클래스 컴포넌트 만들어줌. 
        // 바뀌는 것 => state 중요함. 안 변하는 건 tag
        //  { } 자바스크립트를 쓸 수 있음.
        // XML 이기 때문에 맨 뒤에 닫아줘야 한다.
        // state 바꿀 때 setState 를 사용한다.
        // input.onchage = (e) => { console.log(e.target.value)} 를 리액트 폼으로 변경해준것.
        // => <input type="number" value={this.state.value} onChange = {(e) => this.setState({value:e.target.value})}/> 
        // this 는 클래스의 this.
        // 결과 값을 제출해줘야 한다.
        // *** state는 직접 수동으로 변경 시켜줄 것들만 사용해야 한다. **자동적으로 바뀌는 것 말고 수동적으로 바꾸어야 하는 부분들. SETTING
        // 자바스크립트의 로직들이 => 클래스의 메서드로 들어가면 코드가 더 깔끔해진다.
 
         </script>
    <script type="text/babel">
        ReactDOM.render(<div><GuGuDan /><GuGuDan /> <GuGuDan /></div>, document.querySelector('#root')); //화면에 그리겠다.
                     
    </script>   
</body>
</html>